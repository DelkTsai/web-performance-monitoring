(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("monitorjs", [], factory);
	else if(typeof exports === 'object')
		exports["monitorjs"] = factory();
	else
		root["monitorjs"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

var core = module.exports = { version: '2.6.11' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

exports.default = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _defineProperty = __webpack_require__(59);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__(31)('wks');
var uid = __webpack_require__(24);
var Symbol = __webpack_require__(5).Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(5);
var core = __webpack_require__(0);
var ctx = __webpack_require__(27);
var hide = __webpack_require__(10);
var has = __webpack_require__(9);
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && has(exports, key)) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),
/* 5 */
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(11);
var IE8_DOM_DEFINE = __webpack_require__(41);
var toPrimitive = __webpack_require__(28);
var dP = Object.defineProperty;

exports.f = __webpack_require__(7) ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__(13)(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AjaxLibEnum = exports.ErrorLevelEnum = exports.ErrorCategoryEnum = undefined;

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 错误类型枚举
 */
var ErrorCategoryEnum = exports.ErrorCategoryEnum = function () {
  function ErrorCategoryEnum() {
    (0, _classCallCheck3.default)(this, ErrorCategoryEnum);
  }

  (0, _createClass3.default)(ErrorCategoryEnum, null, [{
    key: "JS_ERROR",

    /**
     * js 错误
     */
    get: function get() {
      return "js_error";
    }

    /**
     * 资源引用错误
     */

  }, {
    key: "RESOURCE_ERROR",
    get: function get() {
      return "resource_error";
    }

    /**
     * Vue错误
     */

  }, {
    key: "VUE_ERROR",
    get: function get() {
      return "vue_error";
    }

    /**
     * promise 错误
     */

  }, {
    key: "PROMISE_ERROR",
    get: function get() {
      return "promise_error";
    }

    /**
     * ajax异步请求错误
     */

  }, {
    key: "AJAX_ERROR",
    get: function get() {
      return "ajax_error";
    }

    /**
     * 控制台错误console.info
     */

  }, {
    key: "CONSOLE_INFO",
    get: function get() {
      return "console_info";
    }

    /**
     * 控制台错误console.warn
     */

  }, {
    key: "CONSOLE_WARN",
    get: function get() {
      return "console_warn";
    }

    /**
     * 控制台错误console.error
     */

  }, {
    key: "CONSOLE_ERROR",
    get: function get() {
      return "console_error";
    }

    /**
     * 跨域js错误
     */

  }, {
    key: "CROSS_SCRIPT_ERROR",
    get: function get() {
      return "cross_srcipt_error";
    }

    /**
     * 未知异常
     */

  }, {
    key: "UNKNOW_ERROR",
    get: function get() {
      return "unknow_error";
    }
  }]);
  return ErrorCategoryEnum;
}();

/**
 * 错误level枚举
 */


var ErrorLevelEnum = exports.ErrorLevelEnum = function () {
  function ErrorLevelEnum() {
    (0, _classCallCheck3.default)(this, ErrorLevelEnum);
  }

  (0, _createClass3.default)(ErrorLevelEnum, null, [{
    key: "ERROR",

    /**
     * 错误信息
     */
    get: function get() {
      return "Error";
    }

    /**
     * 警告信息
     */

  }, {
    key: "WARN",
    get: function get() {
      return "Warning";
    }

    /**
     * 日志信息
     */

  }, {
    key: "INFO",
    get: function get() {
      return "Info";
    }
  }]);
  return ErrorLevelEnum;
}();

/**
 * Ajax库枚举
 */


var AjaxLibEnum = exports.AjaxLibEnum = function () {
  function AjaxLibEnum() {
    (0, _classCallCheck3.default)(this, AjaxLibEnum);
  }

  (0, _createClass3.default)(AjaxLibEnum, null, [{
    key: "AXIOS",
    get: function get() {
      return 'axios';
    }
  }, {
    key: "FETCH",
    get: function get() {
      return 'fetch';
    }
  }, {
    key: "DEFAULT",
    get: function get() {
      return 'default';
    }
  }]);
  return AjaxLibEnum;
}();

/***/ }),
/* 9 */
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(6);
var createDesc = __webpack_require__(19);
module.exports = __webpack_require__(7) ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(12);
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),
/* 12 */
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(65), __esModule: true };

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _typeof2 = __webpack_require__(44);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
};

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__(49);
var defined = __webpack_require__(29);
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _setPrototypeOf = __webpack_require__(90);

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(94);

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(44);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }

  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
};

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends2 = __webpack_require__(53);

var _extends3 = _interopRequireDefault(_extends2);

var _stringify = __webpack_require__(22);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _config = __webpack_require__(8);

var _device = __webpack_require__(54);

var _device2 = _interopRequireDefault(_device);

var _api = __webpack_require__(40);

var _api2 = _interopRequireDefault(_api);

var _utils = __webpack_require__(55);

var _utils2 = _interopRequireDefault(_utils);

var _taskQueue = __webpack_require__(103);

var _taskQueue2 = _interopRequireDefault(_taskQueue);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 监控基类
 */
var Monitor = function () {

    /**
     * 上报错误地址
     * @param {*} params { reportUrl,extendsInfo }
     */
    function Monitor(params) {
        (0, _classCallCheck3.default)(this, Monitor);

        this.category = _config.ErrorCategoryEnum.UNKNOW_ERROR; //错误类型
        this.level = _config.ErrorLevelEnum.INFO; //错误等级
        this.msg = ""; //错误信息
        this.url = ""; //错误信息地址
        this.line = ""; //行数
        this.col = ""; //列数
        this.errorObj = ""; //错误堆栈

        this.reportUrl = params.reportUrl; //上报错误地址
        this.extendsInfo = params.extendsInfo; //扩展信息
    }

    /**
     * 记录错误信息
     */


    (0, _createClass3.default)(Monitor, [{
        key: "recordError",
        value: function recordError() {
            this.handleRecordError();
            //延迟记录日志
            setTimeout(function () {
                _taskQueue2.default.fire();
            }, 100);
        }

        /**
         * 处理记录日志
         */

    }, {
        key: "handleRecordError",
        value: function handleRecordError() {
            try {
                if (!this.msg) {
                    return;
                }
                //过滤掉错误上报地址
                if (this.reportUrl && this.url && this.url.toLowerCase().indexOf(this.reportUrl.toLowerCase()) >= 0) {
                    console.log("统计错误接口异常", this.msg);
                    return;
                }
                var errorInfo = this.handleErrorInfo();

                console.log("\n````````````````````` " + this.category + " `````````````````````\n", errorInfo);

                //记录日志
                _taskQueue2.default.add(this.reportUrl, errorInfo);
            } catch (error) {
                console.log(error);
            }
        }

        /**
         * 处理错误信息
         * @param {*} extendsInfo 
         */

    }, {
        key: "handleErrorInfo",
        value: function handleErrorInfo() {
            var txt = "错误类别: " + this.category + "\r\n";
            txt += "日志信息: " + this.msg + "\r\n";
            txt += "url: " + this.url + "\r\n";
            switch (this.category) {
                case _config.ErrorCategoryEnum.JS_ERROR:
                    txt += "错误行号: " + this.line + "\r\n";
                    txt += "错误列号: " + this.col + "\r\n";
                    if (this.errorObj && this.errorObj.stack) {
                        txt += "错误栈: " + this.errorObj.stack + "\r\n";
                    }
                    break;
                default:
                    txt += "其他错误: " + (0, _stringify2.default)(this.errorObj) + "\r\n";
                    break;
            }
            var deviceInfo = this.getDeviceInfo();
            txt += "设备信息: " + deviceInfo; //设备信息
            var extendsInfo = this.getExtendsInfo();
            var recordInfo = extendsInfo;
            recordInfo.category = this.category; //错误分类
            recordInfo.logType = this.level; //错误级别
            recordInfo.logInfo = txt; //错误信息
            recordInfo.deviceInfo = deviceInfo; //设备信息
            return recordInfo;
        }

        /**
         * 获取扩展信息
         */

    }, {
        key: "getExtendsInfo",
        value: function getExtendsInfo() {
            try {
                var ret = {};
                var extendsInfo = this.extendsInfo || {};
                var dynamicParams = void 0;
                if (_utils2.default.isFunction(extendsInfo.getDynamic)) {
                    dynamicParams = extendsInfo.getDynamic(); //获取动态参数
                }
                //判断动态方法返回的参数是否是对象
                if (_utils2.default.isObject(dynamicParams)) {
                    extendsInfo = (0, _extends3.default)({}, extendsInfo, dynamicParams);
                }
                //遍历扩展信息，排除动态方法
                for (var key in extendsInfo) {
                    if (!_utils2.default.isFunction(extendsInfo[key])) {
                        //排除获取动态方法
                        ret[key] = extendsInfo[key];
                    }
                }
                return ret;
            } catch (error) {
                console.log('call getExtendsInfo error', error);
                return {};
            }
        }

        /**
         * 获取设备信息
         */

    }, {
        key: "getDeviceInfo",
        value: function getDeviceInfo() {
            try {
                var deviceInfo = _device2.default.getDeviceInfo();
                return (0, _stringify2.default)(deviceInfo);
            } catch (error) {
                console.log(error);
                return "";
            }
        }
    }]);
    return Monitor;
}();

exports.default = Monitor;

/***/ }),
/* 19 */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__(29);
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),
/* 21 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(101), __esModule: true };

/***/ }),
/* 23 */
/***/ (function(module, exports) {

module.exports = true;


/***/ }),
/* 24 */
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__(48);
var enumBugKeys = __webpack_require__(35);

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),
/* 26 */
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__(62);
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__(12);
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),
/* 29 */
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(31)('keys');
var uid = __webpack_require__(24);
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__(0);
var global = __webpack_require__(5);
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: __webpack_require__(23) ? 'pure' : 'global',
  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'
});


/***/ }),
/* 32 */
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__(11);
var dPs = __webpack_require__(72);
var enumBugKeys = __webpack_require__(35);
var IE_PROTO = __webpack_require__(30)('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__(42)('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__(75).appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),
/* 34 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),
/* 35 */
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__(6).f;
var has = __webpack_require__(9);
var TAG = __webpack_require__(3)('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__(3);


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(5);
var core = __webpack_require__(0);
var LIBRARY = __webpack_require__(23);
var wksExt = __webpack_require__(37);
var defineProperty = __webpack_require__(6).f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};


/***/ }),
/* 39 */
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _stringify = __webpack_require__(22);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 数据持久化
 */
var API = function () {
    function API(url) {
        (0, _classCallCheck3.default)(this, API);

        this.url = url;
    }

    /**
     * 上报信息 （默认方式）
     */


    (0, _createClass3.default)(API, [{
        key: "report",
        value: function report(data) {
            if (!this.checkUrl(this.url)) {
                console.log("上报信息url地址格式不正确,url=", this.url);
                return;
            }
            console.log("上报地址：" + this.url);
            this.reportByImg(data);
        }

        /**
         * 发送消息
         */

    }, {
        key: "sendInfo",
        value: function sendInfo(data) {
            try {
                var xhr = new XMLHttpRequest();
                xhr.open("POST", this.url, true);
                //xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.send((0, _stringify2.default)(data));
            } catch (error) {
                console.log(error);
            }
        }

        /**
         * 通过img方式上报信息
         */

    }, {
        key: "reportByImg",
        value: function reportByImg(data) {
            if (!this.checkUrl(this.url)) {
                console.log("上报信息url地址格式不正确,url=", this.url);
                return;
            }
            try {
                var img = new Image();
                img.src = this.url + '?v=' + new Date().getTime() + '&' + this.formatParams(data);
            } catch (error) {
                console.log(error);
            }
        }

        /*
         *格式化参数
         */

    }, {
        key: "formatParams",
        value: function formatParams(data) {
            var arr = [];
            for (var name in data) {
                arr.push(encodeURIComponent(name) + "=" + encodeURIComponent(data[name]));
            }
            return arr.join("&");
        }

        /**
         * 检测URL
         */

    }, {
        key: "checkUrl",
        value: function checkUrl(url) {
            if (!url) {
                return false;
            }
            var urlRule = /^[hH][tT][tT][pP]([sS]?):\/\//;
            return urlRule.test(url);
        }
    }]);
    return API;
}();

exports.default = API;

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__(7) && !__webpack_require__(13)(function () {
  return Object.defineProperty(__webpack_require__(42)('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(12);
var document = __webpack_require__(5).document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__(9);
var toObject = __webpack_require__(20);
var IE_PROTO = __webpack_require__(30)('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _iterator = __webpack_require__(68);

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(80);

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at = __webpack_require__(70)(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__(46)(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__(23);
var $export = __webpack_require__(4);
var redefine = __webpack_require__(47);
var hide = __webpack_require__(10);
var Iterators = __webpack_require__(21);
var $iterCreate = __webpack_require__(71);
var setToStringTag = __webpack_require__(36);
var getPrototypeOf = __webpack_require__(43);
var ITERATOR = __webpack_require__(3)('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(10);


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__(9);
var toIObject = __webpack_require__(16);
var arrayIndexOf = __webpack_require__(73)(false);
var IE_PROTO = __webpack_require__(30)('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__(34);
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__(32);
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__(48);
var hiddenKeys = __webpack_require__(35).concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__(26);
var createDesc = __webpack_require__(19);
var toIObject = __webpack_require__(16);
var toPrimitive = __webpack_require__(28);
var has = __webpack_require__(9);
var IE8_DOM_DEFINE = __webpack_require__(41);
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__(7) ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _assign = __webpack_require__(97);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _device = __webpack_require__(102);

var _device2 = _interopRequireDefault(_device);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _device2.default;

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _stringify = __webpack_require__(22);

var _stringify2 = _interopRequireDefault(_stringify);

var _extends2 = __webpack_require__(53);

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (0, _extends3.default)({}, _, {
    type: function type(obj) {
        return Object.prototype.toString.call(obj).replace(/\[object\s|\]/g, '');
    },


    /**
     * 是否为null
     * @param {String} str 
     */
    isNull: function isNull(str) {
        return str == undefined || str == '' || str == null;
    },


    /**
     * 对象是否为空
     * @param {*} obj 
     */
    objectIsNull: function objectIsNull(obj) {
        return (0, _stringify2.default)(obj) === "{}";
    }
});


var _ = {};
["Function", "String", "Object", "Number", "Boolean", "Arguments"].forEach(function (name) {
    _["is" + name] = function (obj) {
        return toString.call(obj) === "[object " + name + "]";
    };
});

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(57);


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MeasureJs = exports.MonitorJS = undefined;

var _monitorjs = __webpack_require__(58);

var _monitorjs2 = _interopRequireDefault(_monitorjs);

var _measure = __webpack_require__(121);

var _measure2 = _interopRequireDefault(_measure);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.MonitorJS = _monitorjs2.default;
exports.MeasureJs = _measure2.default;


window.MonitorJS = _monitorjs2.default;
window.MeasureJs = _measure2.default;

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _error = __webpack_require__(63);

var _config = __webpack_require__(8);

var _performance = __webpack_require__(119);

var _performance2 = _interopRequireDefault(_performance);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import API from "./library/api.js";

// const MARK_START = 'start'
// const MARK_END = 'end'
// const prefix = fix => input => `${fix}${input}`
// const prefixStart = prefix(MARK_START)
// const prefixEnd = prefix(MARK_END)

var MonitorJS = function () {
    function MonitorJS() {
        (0, _classCallCheck3.default)(this, MonitorJS);

        this.jsError = true;
        this.promiseError = true;
        this.resourceError = true;
        this.ajaxError = true;
        this.consoleError = false; //console.error默认不处理
        this.vueError = false;
        // this.measureObj = {}
    }

    /**
     * 处理异常信息初始化
     * @param {*} options 
     */


    (0, _createClass3.default)(MonitorJS, [{
        key: 'init',
        value: function init(options) {
            options = options || {};
            this.jsError = options.jsError || this.jsError;
            this.promiseError = options.promiseError || this.promiseError;
            this.resourceError = options.resourceError || this.resourceError;
            this.ajaxError = options.ajaxError || this.ajaxError;
            this.consoleError = options.consoleError || this.consoleError;
            this.vueError = options.vueError || this.vueError;
            var reportUrl = options.url; //上报错误地址
            var extendsInfo = options.extendsInfo || {}; //扩展信息（一般用于系统个性化分析）
            var param = { reportUrl: reportUrl, extendsInfo: extendsInfo };
            if (this.jsError) {
                new _error.JsError(param).handleError();
            }
            if (this.promiseError) {
                new _error.PromiseError(param).handleError();
            }
            if (this.resourceError) {
                new _error.ResourceError(param).handleError();
            }
            if (this.ajaxError) {
                new _error.AjaxError(param).handleError(_config.AjaxLibEnum.DEFAULT);
            }
            if (this.consoleError) {
                new _error.ConsoleError(param).handleError();
            }
            if (this.vueError && options.vue) {
                new _error.VueError(param).handleError(options.vue);
            }
        }

        /**
         * 监听页面性能
         * @param {*} options {pageId：页面标示,url：上报地址}
         */

    }, {
        key: 'monitorPerformance',
        value: function monitorPerformance(options) {
            options = options || {};
            var pageId = options.pageId || "";
            var url = options.url || "";
            new _performance2.default().record({
                pageId: pageId, url: url
            });
        }
    }]);
    return MonitorJS;
}();

exports.default = MonitorJS;

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(60), __esModule: true };

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(61);
var $Object = __webpack_require__(0).Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(4);
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !__webpack_require__(7), 'Object', { defineProperty: __webpack_require__(6).f });


/***/ }),
/* 62 */
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VueError = exports.ResourceError = exports.PromiseError = exports.JsError = exports.ConsoleError = exports.AjaxError = undefined;

var _ajaxError = __webpack_require__(64);

var _ajaxError2 = _interopRequireDefault(_ajaxError);

var _consoleError = __webpack_require__(104);

var _consoleError2 = _interopRequireDefault(_consoleError);

var _jsError = __webpack_require__(115);

var _jsError2 = _interopRequireDefault(_jsError);

var _promiseError = __webpack_require__(116);

var _promiseError2 = _interopRequireDefault(_promiseError);

var _resourceError = __webpack_require__(117);

var _resourceError2 = _interopRequireDefault(_resourceError);

var _vueError = __webpack_require__(118);

var _vueError2 = _interopRequireDefault(_vueError);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.AjaxError = _ajaxError2.default;
exports.ConsoleError = _consoleError2.default;
exports.JsError = _jsError2.default;
exports.PromiseError = _promiseError2.default;
exports.ResourceError = _resourceError2.default;
exports.VueError = _vueError2.default;

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

var _utils = __webpack_require__(55);

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * ajax error异常
 */
var AjaxError = function () {
    function AjaxError(params) {
        (0, _classCallCheck3.default)(this, AjaxError);

        this.params = params;
    }
    /**
     * 处理错误
     * @param type {*} ajax库类型
     * @param error{*} 错误信息
     */


    (0, _createClass3.default)(AjaxError, [{
        key: "handleError",
        value: function handleError(type, err) {
            switch (type) {
                case _config.AjaxLibEnum.AXIOS:
                    new AxiosError(this.params).handleError(err);
                    break;
                case _config.AjaxLibEnum.FETCH:
                    new FetchError(this.params).handleError(err);
                    break;
                default:
                    new XHRError(this.params).handleError();
                    break;
            }
        }
    }]);
    return AjaxError;
}();

exports.default = AjaxError;

/**
 * Axios类库 错误信息处理(如果不配置，可以统一通过XHR接受错误信息)
 */

var AxiosError = function (_Monitor) {
    (0, _inherits3.default)(AxiosError, _Monitor);

    function AxiosError(params) {
        (0, _classCallCheck3.default)(this, AxiosError);
        return (0, _possibleConstructorReturn3.default)(this, (AxiosError.__proto__ || (0, _getPrototypeOf2.default)(AxiosError)).call(this, params));
    }

    (0, _createClass3.default)(AxiosError, [{
        key: "handleError",
        value: function handleError(error) {
            if (!window.axios) return;
            var _axios = window.axios;
            var List = ['axios', 'request', 'get', 'delete', 'head', 'options', 'put', 'post', 'patch'];
            List.forEach(function (item) {
                _reseat(item);
            });

            function _reseat(item) {
                var _key = null;
                if (item === 'axios') {
                    window['axios'] = resetFn;
                    _key = _axios;
                } else if (item === 'request') {
                    window['axios']['request'] = resetFn;
                    _key = _axios['request'];
                } else {
                    window['axios'][item] = resetFn;
                    _key = _axios[item];
                }

                function resetFn() {
                    var _this2 = this;

                    var result = ajaxArg(arguments, item);
                    if (result.report !== 'report-data') {
                        var url = result.url ? result.url.split('?')[0] : '';
                    }
                    return _key.apply(this, arguments).then(function (res) {
                        if (result.report === 'report-data') return res;
                        try {
                            if (res.status !== 200) {
                                this.recordError();
                            }
                        } catch (e) {}
                        return res;
                    }).catch(function (err) {
                        if (result.report === 'report-data') return res;

                        // statusText: err.message,
                        // method: result.method,
                        // responseURL: result.url,
                        // options: result.options,
                        // status: err.response ? err.response.status : 0,

                        _this2.recordError();
                        return err;
                    });
                }
            }

            // Ajax arguments
            function ajaxArg(arg, item) {
                var result = { method: 'GET', type: 'xmlhttprequest', report: '' };
                var args = Array.prototype.slice.apply(arg);
                try {
                    if (item == 'axios' || item == 'request') {
                        result.url = args[0].url;
                        result.method = args[0].method;
                        result.options = result.method.toLowerCase() == 'get' ? args[0].params : args[0].data;
                    } else {
                        result.url = args[0];
                        result.method = '';
                        if (args[1]) {
                            if (args[1].params) {
                                result.method = 'GET';
                                result.options = args[1].params;
                            } else {
                                result.method = 'POST';
                                result.options = args[1];
                            }
                        }
                    }
                    result.report = args[0].report;
                } catch (err) {}
                return result;
            }
        }

        // handleError(error) {
        //     if (error && error.config && error.config.url) {
        //         this.url = error.config.url;
        //     }
        //     this.level = ErrorLevelEnum.WARN;
        //     this.category = ErrorCategoryEnum.AJAX_ERROR;
        //     this.msg = JSON.stringify(error);
        //     this.recordError();
        // }

    }]);
    return AxiosError;
}(_monitor2.default);

var FetchError = function (_Monitor2) {
    (0, _inherits3.default)(FetchError, _Monitor2);

    function FetchError(params) {
        (0, _classCallCheck3.default)(this, FetchError);
        return (0, _possibleConstructorReturn3.default)(this, (FetchError.__proto__ || (0, _getPrototypeOf2.default)(FetchError)).call(this, params));
    }

    (0, _createClass3.default)(FetchError, [{
        key: "handleError",
        value: function handleError(error) {
            if (!window.fetch) return;
            var _oldFetch = window.fetch;
            window.fetch = function () {
                var _this4 = this;

                this.level = _config.ErrorLevelEnum.WARN;
                this.category = _config.ErrorCategoryEnum.AJAX_ERROR;
                var args = Array.prototype.slice.apply(arg);
                if (!args || !args.length) return result;
                if (args.length === 1) {
                    if (typeof args[0] === 'string') {
                        this.url = args[0];
                    } else if (_utils2.default.isObject(args[0])) {
                        this.url = args[0].url;
                        this.method = args[0].method;
                    }
                } else {
                    this.url = args[0];
                    this.method = args[1].method;
                    this.type = args[1].type;
                }
                this.url = arguments[0];
                this.metaData = arguments[1];
                return _oldFetch.apply(this, arguments).then(function (res) {
                    if (res.status !== 200) {
                        // True if status is HTTP 2xx
                        // 上报错误
                        _this4.responseData = res.data;
                        _this4.recordError();
                    }
                    return res;
                }).catch(function (error) {
                    // 上报错误
                    _this4.error = error.message;
                    _this4.stack = error.stack;
                    _this4.recordError();
                    throw error;
                });
            };
        }
    }]);
    return FetchError;
}(_monitor2.default);

/**
 * 获取HTTP错误信息
 */


var XHRError = function (_Monitor3) {
    (0, _inherits3.default)(XHRError, _Monitor3);

    function XHRError(params) {
        (0, _classCallCheck3.default)(this, XHRError);
        return (0, _possibleConstructorReturn3.default)(this, (XHRError.__proto__ || (0, _getPrototypeOf2.default)(XHRError)).call(this, params));
    }

    /**
     * 获取错误信息
     */


    (0, _createClass3.default)(XHRError, [{
        key: "handleError",
        value: function handleError() {
            var _this6 = this;

            if (!window.XMLHttpRequest) {
                return;
            }
            // 保存原生的 open 方法
            var xhrOpen = XMLHttpRequest.prototype.open;
            // 保存原生的 send 方法
            var xhrSend = XMLHttpRequest.prototype.send;
            var reqMethod = void 0;
            var _handleEvent = function _handleEvent(event, arg) {
                try {
                    if (event && event.currentTarget && event.currentTarget.status !== 200) {
                        _this6.level = _config.ErrorLevelEnum.WARN;
                        _this6.category = _config.ErrorCategoryEnum.AJAX_ERROR;
                        _this6.msg = event.target.response;
                        _this6.url = event.target.responseURL;
                        _this6.method = reqMethod;
                        _this6.data = arg[0] || {};
                        _this6.errorObj = {
                            status: event.target.status,
                            statusText: event.target.statusText
                        };
                        _this6.recordError();
                    }
                } catch (error) {
                    console.log(error);
                }
            };
            // 重写 open
            XMLHttpRequest.prototype.open = function () {
                // 先在此处取得请求的method
                reqMethod = arguments[0];
                // 再调用原生 open 实现重写
                return xhrOpen.apply(this, arguments);
            };
            // 重写 send
            XMLHttpRequest.prototype.send = function () {
                var arg = arguments;
                if (this.addEventListener) {
                    this.addEventListener('error', function (e) {
                        return _handleEvent(e, arg);
                    }); // 失败
                    this.addEventListener('load', function (e) {
                        return _handleEvent(e, arg);
                    }); // 完成
                    this.addEventListener('abort', function (e) {
                        return _handleEvent(e, arg);
                    }); // 取消
                } else {
                    var tempStateChange = this.onreadystatechange;
                    this.onreadystatechange = function (event) {
                        tempStateChange.apply(this, arguments);
                        if (this.readyState === 4) {
                            _handleEvent(event, arg);
                        }
                    };
                }
                // 再调用原生 send 实现重写
                return xhrSend.apply(this, arguments);
            };
        }
    }]);
    return XHRError;
}(_monitor2.default);

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(66);
module.exports = __webpack_require__(0).Object.getPrototypeOf;


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = __webpack_require__(20);
var $getPrototypeOf = __webpack_require__(43);

__webpack_require__(67)('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__(4);
var core = __webpack_require__(0);
var fails = __webpack_require__(13);
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(69), __esModule: true };

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(45);
__webpack_require__(76);
module.exports = __webpack_require__(37).f('iterator');


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(32);
var defined = __webpack_require__(29);
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create = __webpack_require__(33);
var descriptor = __webpack_require__(19);
var setToStringTag = __webpack_require__(36);
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__(10)(IteratorPrototype, __webpack_require__(3)('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(6);
var anObject = __webpack_require__(11);
var getKeys = __webpack_require__(25);

module.exports = __webpack_require__(7) ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__(16);
var toLength = __webpack_require__(50);
var toAbsoluteIndex = __webpack_require__(74);
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(32);
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__(5).document;
module.exports = document && document.documentElement;


/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(77);
var global = __webpack_require__(5);
var hide = __webpack_require__(10);
var Iterators = __webpack_require__(21);
var TO_STRING_TAG = __webpack_require__(3)('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__(78);
var step = __webpack_require__(79);
var Iterators = __webpack_require__(21);
var toIObject = __webpack_require__(16);

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__(46)(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),
/* 78 */
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),
/* 79 */
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(81), __esModule: true };

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(82);
__webpack_require__(87);
__webpack_require__(88);
__webpack_require__(89);
module.exports = __webpack_require__(0).Symbol;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// ECMAScript 6 symbols shim
var global = __webpack_require__(5);
var has = __webpack_require__(9);
var DESCRIPTORS = __webpack_require__(7);
var $export = __webpack_require__(4);
var redefine = __webpack_require__(47);
var META = __webpack_require__(83).KEY;
var $fails = __webpack_require__(13);
var shared = __webpack_require__(31);
var setToStringTag = __webpack_require__(36);
var uid = __webpack_require__(24);
var wks = __webpack_require__(3);
var wksExt = __webpack_require__(37);
var wksDefine = __webpack_require__(38);
var enumKeys = __webpack_require__(84);
var isArray = __webpack_require__(85);
var anObject = __webpack_require__(11);
var isObject = __webpack_require__(12);
var toObject = __webpack_require__(20);
var toIObject = __webpack_require__(16);
var toPrimitive = __webpack_require__(28);
var createDesc = __webpack_require__(19);
var _create = __webpack_require__(33);
var gOPNExt = __webpack_require__(86);
var $GOPD = __webpack_require__(52);
var $GOPS = __webpack_require__(39);
var $DP = __webpack_require__(6);
var $keys = __webpack_require__(25);
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  __webpack_require__(51).f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__(26).f = $propertyIsEnumerable;
  $GOPS.f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !__webpack_require__(23)) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });

$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    return $GOPS.f(toObject(it));
  }
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(10)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

var META = __webpack_require__(24)('meta');
var isObject = __webpack_require__(12);
var has = __webpack_require__(9);
var setDesc = __webpack_require__(6).f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !__webpack_require__(13)(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__(25);
var gOPS = __webpack_require__(39);
var pIE = __webpack_require__(26);
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__(34);
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__(16);
var gOPN = __webpack_require__(51).f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),
/* 87 */
/***/ (function(module, exports) {



/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(38)('asyncIterator');


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(38)('observable');


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(91), __esModule: true };

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(92);
module.exports = __webpack_require__(0).Object.setPrototypeOf;


/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = __webpack_require__(4);
$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(93).set });


/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = __webpack_require__(12);
var anObject = __webpack_require__(11);
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = __webpack_require__(27)(Function.call, __webpack_require__(52).f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};


/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(95), __esModule: true };

/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(96);
var $Object = __webpack_require__(0).Object;
module.exports = function create(P, D) {
  return $Object.create(P, D);
};


/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(4);
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: __webpack_require__(33) });


/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(98), __esModule: true };

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(99);
module.exports = __webpack_require__(0).Object.assign;


/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.1 Object.assign(target, source)
var $export = __webpack_require__(4);

$export($export.S + $export.F, 'Object', { assign: __webpack_require__(100) });


/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 19.1.2.1 Object.assign(target, source, ...)
var DESCRIPTORS = __webpack_require__(7);
var getKeys = __webpack_require__(25);
var gOPS = __webpack_require__(39);
var pIE = __webpack_require__(26);
var toObject = __webpack_require__(20);
var IObject = __webpack_require__(49);
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || __webpack_require__(13)(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) {
      key = keys[j++];
      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];
    }
  } return T;
} : $assign;


/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__(0);
var $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });
module.exports = function stringify(it) { // eslint-disable-line no-unused-vars
  return $JSON.stringify.apply($JSON, arguments);
};


/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var DeviceInfo = function () {
    var root = typeof self !== 'undefined' ? self : this;
    var _window = root || {};
    // 变量库
    var VariableLibrary = {
        navigator: typeof root.navigator != 'undefined' ? root.navigator : {},
        // 信息map
        infoMap: {
            engine: ['WebKit', 'Trident', 'Gecko', 'Presto'], // 引擎
            browser: [// 浏览器
            'Safari', 'Chrome', 'Edge', 'IE', 'Firefox', 'Firefox Focus', 'Chromium', 'Opera', 'Vivaldi', 'Yandex', 'Arora', 'Lunascape', 'QupZilla', 'Coc Coc', 'Kindle', 'Iceweasel', 'Konqueror', 'Iceape', 'SeaMonkey', 'Epiphany', '360', '360SE', '360EE', 'UC', 'QQBrowser', 'QQ', 'Baidu', 'Maxthon', 'Sogou', 'LBBROWSER', '2345Explorer', 'TheWorld', 'XiaoMi', 'Quark', 'Qiyu', 'Wechat', 'Taobao', 'Alipay', 'Weibo', 'Douban', 'Suning', 'iQiYi'],
            os: [// 系统
            'Windows', 'Linux', 'Mac OS', 'Android', 'Ubuntu', 'FreeBSD', 'Debian', 'iOS', 'Windows Phone', 'BlackBerry', 'MeeGo', 'Symbian', 'Chrome OS', 'WebOS'],
            device: ['Mobile', 'Tablet', 'iPad'] // 设备
        }
        // 方法库
    };var MethodLibrary = function () {
        return {
            // 获取匹配库
            getMatchMap: function getMatchMap(u) {
                return {
                    // 内核
                    Trident: u.indexOf('Trident') > -1 || u.indexOf('NET CLR') > -1,
                    Presto: u.indexOf('Presto') > -1,
                    WebKit: u.indexOf('AppleWebKit') > -1,
                    Gecko: u.indexOf('Gecko/') > -1,
                    // 浏览器
                    Safari: u.indexOf('Safari') > -1,
                    Chrome: u.indexOf('Chrome') > -1 || u.indexOf('CriOS') > -1,
                    IE: u.indexOf('MSIE') > -1 || u.indexOf('Trident') > -1,
                    Edge: u.indexOf('Edge') > -1,
                    Firefox: u.indexOf('Firefox') > -1 || u.indexOf('FxiOS') > -1,
                    'Firefox Focus': u.indexOf('Focus') > -1,
                    Chromium: u.indexOf('Chromium') > -1,
                    Opera: u.indexOf('Opera') > -1 || u.indexOf('OPR') > -1,
                    Vivaldi: u.indexOf('Vivaldi') > -1,
                    Yandex: u.indexOf('YaBrowser') > -1,
                    Arora: u.indexOf('Arora') > -1,
                    Lunascape: u.indexOf('Lunascape') > -1,
                    QupZilla: u.indexOf('QupZilla') > -1,
                    'Coc Coc': u.indexOf('coc_coc_browser') > -1,
                    Kindle: u.indexOf('Kindle') > -1 || u.indexOf('Silk/') > -1,
                    Iceweasel: u.indexOf('Iceweasel') > -1,
                    Konqueror: u.indexOf('Konqueror') > -1,
                    Iceape: u.indexOf('Iceape') > -1,
                    SeaMonkey: u.indexOf('SeaMonkey') > -1,
                    Epiphany: u.indexOf('Epiphany') > -1,
                    '360': u.indexOf('QihooBrowser') > -1 || u.indexOf('QHBrowser') > -1,
                    '360EE': u.indexOf('360EE') > -1,
                    '360SE': u.indexOf('360SE') > -1,
                    UC: u.indexOf('UC') > -1 || u.indexOf(' UBrowser') > -1,
                    QQBrowser: u.indexOf('QQBrowser') > -1,
                    QQ: u.indexOf('QQ/') > -1,
                    Baidu: u.indexOf('Baidu') > -1 || u.indexOf('BIDUBrowser') > -1,
                    Maxthon: u.indexOf('Maxthon') > -1,
                    Sogou: u.indexOf('MetaSr') > -1 || u.indexOf('Sogou') > -1,
                    LBBROWSER: u.indexOf('LBBROWSER') > -1,
                    '2345Explorer': u.indexOf('2345Explorer') > -1,
                    TheWorld: u.indexOf('TheWorld') > -1,
                    XiaoMi: u.indexOf('MiuiBrowser') > -1,
                    Quark: u.indexOf('Quark') > -1,
                    Qiyu: u.indexOf('Qiyu') > -1,
                    Wechat: u.indexOf('MicroMessenger') > -1,
                    Taobao: u.indexOf('AliApp(TB') > -1,
                    Alipay: u.indexOf('AliApp(AP') > -1,
                    Weibo: u.indexOf('Weibo') > -1,
                    Douban: u.indexOf('com.douban.frodo') > -1,
                    Suning: u.indexOf('SNEBUY-APP') > -1,
                    iQiYi: u.indexOf('IqiyiApp') > -1,
                    // 系统或平台
                    Windows: u.indexOf('Windows') > -1,
                    Linux: u.indexOf('Linux') > -1 || u.indexOf('X11') > -1,
                    'Mac OS': u.indexOf('Macintosh') > -1,
                    Android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,
                    Ubuntu: u.indexOf('Ubuntu') > -1,
                    FreeBSD: u.indexOf('FreeBSD') > -1,
                    Debian: u.indexOf('Debian') > -1,
                    'Windows Phone': u.indexOf('IEMobile') > -1 || u.indexOf('Windows Phone') > -1,
                    BlackBerry: u.indexOf('BlackBerry') > -1 || u.indexOf('RIM') > -1,
                    MeeGo: u.indexOf('MeeGo') > -1,
                    Symbian: u.indexOf('Symbian') > -1,
                    iOS: u.indexOf('like Mac OS X') > -1,
                    'Chrome OS': u.indexOf('CrOS') > -1,
                    WebOS: u.indexOf('hpwOS') > -1,
                    // 设备
                    Mobile: u.indexOf('Mobi') > -1 || u.indexOf('iPh') > -1 || u.indexOf('480') > -1,
                    Tablet: u.indexOf('Tablet') > -1 || u.indexOf('Nexus 7') > -1,
                    iPad: u.indexOf('iPad') > -1
                };
            },
            // 在信息map和匹配库中进行匹配
            matchInfoMap: function matchInfoMap(_this) {
                var u = VariableLibrary.navigator.userAgent || {};
                var match = MethodLibrary.getMatchMap(u);
                for (var s in VariableLibrary.infoMap) {
                    for (var i = 0; i < VariableLibrary.infoMap[s].length; i++) {
                        var value = VariableLibrary.infoMap[s][i];
                        if (match[value]) {
                            _this[s] = value;
                        }
                    }
                }
            },
            // 获取当前操作系统
            getOS: function getOS() {
                var _this = this;
                MethodLibrary.matchInfoMap(_this);
                return _this.os;
            },
            // 获取操作系统版本
            getOSVersion: function getOSVersion() {
                var _this = this;
                var u = VariableLibrary.navigator.userAgent || {};
                _this.osVersion = '';
                // 系统版本信息
                var osVersion = {
                    Windows: function Windows() {
                        var v = u.replace(/^.*Windows NT ([\d.]+);.*$/, '$1');
                        var oldWindowsVersionMap = {
                            '6.4': '10',
                            '6.3': '8.1',
                            '6.2': '8',
                            '6.1': '7',
                            '6.0': 'Vista',
                            '5.2': 'XP',
                            '5.1': 'XP',
                            '5.0': '2000'
                        };
                        return oldWindowsVersionMap[v] || v;
                    },
                    Android: function Android() {
                        return u.replace(/^.*Android ([\d.]+);.*$/, '$1');
                    },
                    iOS: function iOS() {
                        return u.replace(/^.*OS ([\d_]+) like.*$/, '$1').replace(/_/g, '.');
                    },
                    Debian: function Debian() {
                        return u.replace(/^.*Debian\/([\d.]+).*$/, '$1');
                    },
                    'Windows Phone': function WindowsPhone() {
                        return u.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/, '$2');
                    },
                    'Mac OS': function MacOS() {
                        return u.replace(/^.*Mac OS X ([\d_]+).*$/, '$1').replace(/_/g, '.');
                    },
                    WebOS: function WebOS() {
                        return u.replace(/^.*hpwOS\/([\d.]+);.*$/, '$1');
                    }
                };
                if (osVersion[_this.os]) {
                    _this.osVersion = osVersion[_this.os]();
                    if (_this.osVersion == u) {
                        _this.osVersion = '';
                    }
                }
                return _this.osVersion;
            },
            // 获取横竖屏状态
            getOrientationStatu: function getOrientationStatu() {
                var orientationStatus = '';
                var orientation = window.matchMedia('(orientation: portrait)');
                if (orientation.matches) {
                    orientationStatus = '竖屏';
                } else {
                    orientationStatus = '横屏';
                }
                return orientationStatus;
            },
            // 获取设备类型
            getDeviceType: function getDeviceType() {
                var _this = this;
                _this.device = 'PC';
                MethodLibrary.matchInfoMap(_this);
                return _this.device;
            },
            // 获取网络状态
            getNetwork: function getNetwork() {
                var netWork = navigator && navigator.connection && navigator.connection.effectiveType;
                return netWork;
            },
            // 获取当前语言
            getLanguage: function getLanguage() {
                var _this = this;
                _this.language = function () {
                    var language = VariableLibrary.navigator.browserLanguage || VariableLibrary.navigator.language;
                    var arr = language.split('-');
                    if (arr[1]) {
                        arr[1] = arr[1].toUpperCase();
                    }
                    return arr.join('_');
                }();
                return _this.language;
            },
            // 生成浏览器指纹
            createFingerprint: function createFingerprint(domain) {
                var fingerprint;
                function bin2hex(s) {
                    var i,
                        l,
                        n,
                        o = '';
                    s += '';
                    for (i = 0, l = s.length; i < l; i++) {
                        n = s.charCodeAt(i).toString(16);
                        o += n.length < 2 ? '0' + n : n;
                    }
                    return o;
                }
                var canvas = document.createElement('canvas');
                var ctx = canvas.getContext('2d');
                var txt = domain || window.location.host;
                ctx.textBaseline = 'top';
                ctx.font = "14px 'Arial'";
                ctx.textBaseline = 'tencent';
                ctx.fillStyle = '#f60';
                ctx.fillRect(125, 1, 62, 20);
                ctx.fillStyle = '#069';
                ctx.fillText(txt, 2, 15);
                ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
                ctx.fillText(txt, 4, 17);
                var b64 = canvas.toDataURL().replace('data:image/png;base64,', '');
                var bin = atob(b64);
                var crc = bin2hex(bin.slice(-16, -12));
                fingerprint = crc;
                return fingerprint;
            },
            // 浏览器信息
            getBrowserInfo: function getBrowserInfo() {
                var _this = this;
                MethodLibrary.matchInfoMap(_this);

                var u = VariableLibrary.navigator.userAgent || {};

                var _mime = function _mime(option, value) {
                    var mimeTypes = VariableLibrary.navigator.mimeTypes;
                    for (var key in mimeTypes) {
                        if (mimeTypes[key][option] == value) {
                            return true;
                        }
                    }
                    return false;
                };

                var match = MethodLibrary.getMatchMap(u);

                var is360 = false;
                if (_window.chrome) {
                    var chrome_vision = u.replace(/^.*Chrome\/([\d]+).*$/, '$1');
                    if (chrome_vision > 36 && _window.showModalDialog) {
                        is360 = true;
                    } else if (chrome_vision > 45) {
                        is360 = _mime('type', 'application/vnd.chromium.remoting-viewer');
                    }
                }
                if (match['Baidu'] && match['Opera']) {
                    match['Baidu'] = false;
                }
                if (match['Mobile']) {
                    match['Mobile'] = !(u.indexOf('iPad') > -1);
                }
                if (is360) {
                    if (_mime('type', 'application/gameplugin')) {
                        match['360SE'] = true;
                    } else if (VariableLibrary.navigator && typeof VariableLibrary.navigator['connection']['saveData'] == 'undefined') {
                        match['360SE'] = true;
                    } else {
                        match['360EE'] = true;
                    }
                }
                if (match['IE'] || match['Edge']) {
                    var navigator_top = window.screenTop - window.screenY;
                    switch (navigator_top) {
                        case 71:
                            // 无收藏栏,贴边
                            break;
                        case 74:
                            // 无收藏栏,非贴边
                            break;
                        case 99:
                            // 有收藏栏,贴边
                            break;
                        case 102:
                            // 有收藏栏,非贴边
                            match['360EE'] = true;
                            break;
                        case 75:
                            // 无收藏栏,贴边
                            break;
                        case 74:
                            // 无收藏栏,非贴边
                            break;
                        case 105:
                            // 有收藏栏,贴边
                            break;
                        case 104:
                            // 有收藏栏,非贴边
                            match['360SE'] = true;
                            break;
                        default:
                            break;
                    }
                }

                var browerVersionMap = {
                    Safari: function Safari() {
                        return u.replace(/^.*Version\/([\d.]+).*$/, '$1');
                    },
                    Chrome: function Chrome() {
                        return u.replace(/^.*Chrome\/([\d.]+).*$/, '$1').replace(/^.*CriOS\/([\d.]+).*$/, '$1');
                    },
                    IE: function IE() {
                        return u.replace(/^.*MSIE ([\d.]+).*$/, '$1').replace(/^.*rv:([\d.]+).*$/, '$1');
                    },
                    Edge: function Edge() {
                        return u.replace(/^.*Edge\/([\d.]+).*$/, '$1');
                    },
                    Firefox: function Firefox() {
                        return u.replace(/^.*Firefox\/([\d.]+).*$/, '$1').replace(/^.*FxiOS\/([\d.]+).*$/, '$1');
                    },
                    'Firefox Focus': function FirefoxFocus() {
                        return u.replace(/^.*Focus\/([\d.]+).*$/, '$1');
                    },
                    Chromium: function Chromium() {
                        return u.replace(/^.*Chromium\/([\d.]+).*$/, '$1');
                    },
                    Opera: function Opera() {
                        return u.replace(/^.*Opera\/([\d.]+).*$/, '$1').replace(/^.*OPR\/([\d.]+).*$/, '$1');
                    },
                    Vivaldi: function Vivaldi() {
                        return u.replace(/^.*Vivaldi\/([\d.]+).*$/, '$1');
                    },
                    Yandex: function Yandex() {
                        return u.replace(/^.*YaBrowser\/([\d.]+).*$/, '$1');
                    },
                    Arora: function Arora() {
                        return u.replace(/^.*Arora\/([\d.]+).*$/, '$1');
                    },
                    Lunascape: function Lunascape() {
                        return u.replace(/^.*Lunascape[\/\s]([\d.]+).*$/, '$1');
                    },
                    QupZilla: function QupZilla() {
                        return u.replace(/^.*QupZilla[\/\s]([\d.]+).*$/, '$1');
                    },
                    'Coc Coc': function CocCoc() {
                        return u.replace(/^.*coc_coc_browser\/([\d.]+).*$/, '$1');
                    },
                    Kindle: function Kindle() {
                        return u.replace(/^.*Version\/([\d.]+).*$/, '$1');
                    },
                    Iceweasel: function Iceweasel() {
                        return u.replace(/^.*Iceweasel\/([\d.]+).*$/, '$1');
                    },
                    Konqueror: function Konqueror() {
                        return u.replace(/^.*Konqueror\/([\d.]+).*$/, '$1');
                    },
                    Iceape: function Iceape() {
                        return u.replace(/^.*Iceape\/([\d.]+).*$/, '$1');
                    },
                    SeaMonkey: function SeaMonkey() {
                        return u.replace(/^.*SeaMonkey\/([\d.]+).*$/, '$1');
                    },
                    Epiphany: function Epiphany() {
                        return u.replace(/^.*Epiphany\/([\d.]+).*$/, '$1');
                    },
                    '360': function _() {
                        return u.replace(/^.*QihooBrowser\/([\d.]+).*$/, '$1');
                    },
                    '360SE': function SE() {
                        var hash = {
                            '63': '10.0',
                            '55': '9.1',
                            '45': '8.1',
                            '42': '8.0',
                            '31': '7.0',
                            '21': '6.3'
                        };
                        var chrome_vision = u.replace(/^.*Chrome\/([\d]+).*$/, '$1');
                        return hash[chrome_vision] || '';
                    },
                    '360EE': function EE() {
                        var hash = {
                            '69': '11.0',
                            '63': '9.5',
                            '55': '9.0',
                            '50': '8.7',
                            '30': '7.5'
                        };
                        var chrome_vision = u.replace(/^.*Chrome\/([\d]+).*$/, '$1');
                        return hash[chrome_vision] || '';
                    },
                    Maxthon: function Maxthon() {
                        return u.replace(/^.*Maxthon\/([\d.]+).*$/, '$1');
                    },
                    QQBrowser: function QQBrowser() {
                        return u.replace(/^.*QQBrowser\/([\d.]+).*$/, '$1');
                    },
                    QQ: function QQ() {
                        return u.replace(/^.*QQ\/([\d.]+).*$/, '$1');
                    },
                    Baidu: function Baidu() {
                        return u.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/, '$1');
                    },
                    UC: function UC() {
                        return u.replace(/^.*UC?Browser\/([\d.]+).*$/, '$1');
                    },
                    Sogou: function Sogou() {
                        return u.replace(/^.*SE ([\d.X]+).*$/, '$1').replace(/^.*SogouMobileBrowser\/([\d.]+).*$/, '$1');
                    },
                    LBBROWSER: function LBBROWSER() {
                        var hash = {
                            '57': '6.5',
                            '49': '6.0',
                            '46': '5.9',
                            '42': '5.3',
                            '39': '5.2',
                            '34': '5.0',
                            '29': '4.5',
                            '21': '4.0'
                        };
                        var chrome_vision = navigator.userAgent.replace(/^.*Chrome\/([\d]+).*$/, '$1');
                        return hash[chrome_vision] || '';
                    },
                    '2345Explorer': function Explorer() {
                        return u.replace(/^.*2345Explorer\/([\d.]+).*$/, '$1');
                    },
                    TheWorld: function TheWorld() {
                        return u.replace(/^.*TheWorld ([\d.]+).*$/, '$1');
                    },
                    XiaoMi: function XiaoMi() {
                        return u.replace(/^.*MiuiBrowser\/([\d.]+).*$/, '$1');
                    },
                    Quark: function Quark() {
                        return u.replace(/^.*Quark\/([\d.]+).*$/, '$1');
                    },
                    Qiyu: function Qiyu() {
                        return u.replace(/^.*Qiyu\/([\d.]+).*$/, '$1');
                    },
                    Wechat: function Wechat() {
                        return u.replace(/^.*MicroMessenger\/([\d.]+).*$/, '$1');
                    },
                    Taobao: function Taobao() {
                        return u.replace(/^.*AliApp\(TB\/([\d.]+).*$/, '$1');
                    },
                    Alipay: function Alipay() {
                        return u.replace(/^.*AliApp\(AP\/([\d.]+).*$/, '$1');
                    },
                    Weibo: function Weibo() {
                        return u.replace(/^.*weibo__([\d.]+).*$/, '$1');
                    },
                    Douban: function Douban() {
                        return u.replace(/^.*com.douban.frodo\/([\d.]+).*$/, '$1');
                    },
                    Suning: function Suning() {
                        return u.replace(/^.*SNEBUY-APP([\d.]+).*$/, '$1');
                    },
                    iQiYi: function iQiYi() {
                        return u.replace(/^.*IqiyiVersion\/([\d.]+).*$/, '$1');
                    }
                };
                _this.browserVersion = '';
                if (browerVersionMap[_this.browser]) {
                    _this.browserVersion = browerVersionMap[_this.browser]();
                    if (_this.browserVersion == u) {
                        _this.browserVersion = '';
                    }
                }

                if (_this.browser == 'Edge') {
                    _this.engine = 'EdgeHTML';
                }
                if (_this.browser == 'Chrome' && parseInt(_this.browserVersion) > 27) {
                    _this.engine = 'Blink';
                }
                if (_this.browser == 'Opera' && parseInt(_this.browserVersion) > 12) {
                    _this.engine = 'Blink';
                }
                if (_this.browser == 'Yandex') {
                    _this.engine = 'Blink';
                }

                return _this.browser + '（版本: ' + _this.browserVersion + '&nbsp;&nbsp;内核: ' + _this.engine + '）';
            }
        };
    }();
    // 逻辑层
    var LogicLibrary = function () {
        return {
            DeviceInfoObj: function DeviceInfoObj(params) {
                params = params || { domain: '' };
                var info = {
                    deviceType: MethodLibrary.getDeviceType(), // 设备类型
                    OS: MethodLibrary.getOS(), // 操作系统
                    OSVersion: MethodLibrary.getOSVersion(), // 操作系统版本
                    screenHeight: _window.screen.height, // 屏幕高
                    screenWidth: _window.screen.width, // 屏幕宽
                    language: MethodLibrary.getLanguage(), // 当前使用的语言-国家
                    netWork: MethodLibrary.getNetwork(), // 联网类型
                    orientation: MethodLibrary.getOrientationStatu(), // 横竖屏
                    browserInfo: MethodLibrary.getBrowserInfo(), // 浏览器信息
                    fingerprint: MethodLibrary.createFingerprint(params.domain), // 浏览器指纹
                    userAgent: VariableLibrary.navigator.userAgent // 包含 appCodeName,appName,appVersion,language,platform 等
                };
                if (!params.info || params.info.length == 0) {
                    return info;
                }
                var infoTemp = {};
                for (var i in info) {
                    params.info.forEach(function (item) {
                        if (item.toLowerCase() == i.toLowerCase()) {
                            item = i;
                            infoTemp[item] = info[item];
                        }
                    });
                }
                return infoTemp;
            }
        };
    }();
    // 对外暴露方法
    return {
        getDeviceInfo: function getDeviceInfo(params) {
            return LogicLibrary.DeviceInfoObj(params);
        }
    };
}();

exports.default = DeviceInfo;

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _api = __webpack_require__(40);

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 消息队列
 */
var TaskQueue = {

    queues: [], //待处理消息列表

    /**
     * 添加消息
     * @param {*} reportUrl 上报url
     * @param {*} data 上报数据
     */
    add: function add(reportUrl, data) {
        this.queues.push({ reportUrl: reportUrl, data: data });
    },

    /**
     * 统一上报
     */
    fire: function fire() {
        if (!this.queues || this.queues.length === 0) {
            return;
        }
        var item = this.queues[0];
        item.reportUrl && new _api2.default(item.reportUrl).report(item.data);
        this.queues.splice(0, 1);
        this.fire(); //递归
    }
};

exports.default = TaskQueue;

/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _toConsumableArray2 = __webpack_require__(105);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * console.error异常
 */
var ConsoleError = function (_Monitor) {
    (0, _inherits3.default)(ConsoleError, _Monitor);

    function ConsoleError(params) {
        (0, _classCallCheck3.default)(this, ConsoleError);
        return (0, _possibleConstructorReturn3.default)(this, (ConsoleError.__proto__ || (0, _getPrototypeOf2.default)(ConsoleError)).call(this, params));
    }

    /**
     * 处理console事件
     */


    (0, _createClass3.default)(ConsoleError, [{
        key: "handleError",
        value: function handleError() {
            this.registerInfo();
            this.registerWarn();
            this.registerError();
        }

        /**
         * 处理信息
         */

    }, {
        key: "registerInfo",
        value: function registerInfo() {
            var t = this;
            console.tInfo = function () {
                t.handleLog(_config.ErrorLevelEnum.INFO, _config.ErrorCategoryEnum.CONSOLE_INFO, arguments);
            };
        }

        /**
         * 处理警告
         */

    }, {
        key: "registerWarn",
        value: function registerWarn() {
            var t = this;
            console.tWarn = function () {
                t.handleLog(_config.ErrorLevelEnum.WARN, _config.ErrorCategoryEnum.CONSOLE_WARN, arguments);
            };
        }

        /**
         * 处理错误
         */

    }, {
        key: "registerError",
        value: function registerError() {
            var t = this;
            console.tError = function () {
                t.handleLog(_config.ErrorLevelEnum.ERROR, _config.ErrorCategoryEnum.CONSOLE_ERROR, arguments);
            };
        }

        /**
         * 处理日志
         */

    }, {
        key: "handleLog",
        value: function handleLog(level, category, args) {
            try {
                this.level = level;
                var params = [].concat((0, _toConsumableArray3.default)(args));
                this.msg = params.join("\r\n"); //换行符分割
                this.url = location.href; //当前地址
                this.category = category;
                this.recordError();
            } catch (error) {
                console.log("console统计错误异常", level, error);
            }
        }
    }]);
    return ConsoleError;
}(_monitor2.default);

/**
 * 初始化console事件
 */


(function () {
    //创建空console对象，避免JS报错  
    if (!window.console) {
        window.console = {};
    }
    var funcs = ['tInfo', 'tWarn', 'tError'];
    funcs.forEach(function (func, index) {
        if (!console[func]) {
            console[func] = function () {};
        }
    });
})();

exports.default = ConsoleError;

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _from = __webpack_require__(106);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
};

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(107), __esModule: true };

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(45);
__webpack_require__(108);
module.exports = __webpack_require__(0).Array.from;


/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ctx = __webpack_require__(27);
var $export = __webpack_require__(4);
var toObject = __webpack_require__(20);
var call = __webpack_require__(109);
var isArrayIter = __webpack_require__(110);
var toLength = __webpack_require__(50);
var createProperty = __webpack_require__(111);
var getIterFn = __webpack_require__(112);

$export($export.S + $export.F * !__webpack_require__(114)(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});


/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__(11);
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};


/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators = __webpack_require__(21);
var ITERATOR = __webpack_require__(3)('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};


/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $defineProperty = __webpack_require__(6);
var createDesc = __webpack_require__(19);

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};


/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(113);
var ITERATOR = __webpack_require__(3)('iterator');
var Iterators = __webpack_require__(21);
module.exports = __webpack_require__(0).getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};


/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__(34);
var TAG = __webpack_require__(3)('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR = __webpack_require__(3)('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};


/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 捕获JS错误
 * onerror用来捕捉预料之外的错误，而try-catch用来在可预见情况下监控特定的错误，两者组合使用更加高效
 * 无论是异步还是非异步错误，onerror都能捕获到运行时错误
 * 当遇到 < img src = "./404.png" > 报404错误异常的时候， 它捕获不到
 * window.onerror只有在函数返回true的时候， 异常才不会向上抛出， 否则即使知道异常的发生控制台还是会显示错误
 * try不能检测到语法错误, 词法解析就挂了，语法解析错误是捕获不了的, onerror也不行
 * try-catch 处理异常的能力有限，只能捕获捉到运行时非异步错误，对于语法错误和异步错误就显得无能为力，捕捉不到。
 */
var JSError = function (_Monitor) {
    (0, _inherits3.default)(JSError, _Monitor);

    function JSError(params) {
        (0, _classCallCheck3.default)(this, JSError);
        return (0, _possibleConstructorReturn3.default)(this, (JSError.__proto__ || (0, _getPrototypeOf2.default)(JSError)).call(this, params));
    }

    /**
     * window.onerror能捕捉到语法错误，但是语法出错的代码块不能跟window.onerror在同一个块（语法都没过，更别提window.onerror会被执行了）
     * 只要把window.onerror这个代码块分离出去，并且比其他脚本先执行（ 注意这个前提！） 即可捕捉到语法错误。
     * 可以捕捉语法错误，也可以捕捉运行时错误；
     * 可以拿到出错的信息，堆栈，出错的文件、行号、列号；
     * 只要在当前页面执行的js脚本出错都会捕捉到，例如：浏览器插件的javascript、或者flash抛出的异常等。
     * 跨域的资源需要特殊头部支持。
     * 如果想通过onerror函数收集不同域的js错误， 我们需要做两件事：
     * 1. 服务端相关的js文件上加上Access-Control-Allow-Origin: * 的response header
     * 2. 客户端引用相关的js文件时加上crossorigin属性<script src="..." crossorigin="anonymous"></script>
     * 
     * 采用异步的方式
     * window.onunload会进行ajax的堵塞上报
     * 由于客户端强制关闭webview导致这次堵塞上报有Network Error
     * 猜测这里window.onerror的执行流在关闭前是必然执行的
     * 而离开页面之后的上报对于业务来说是可丢失的
     * 所以把这里的执行流放到异步事件去执行
     * 脚本的异常数降低了10倍
     */


    (0, _createClass3.default)(JSError, [{
        key: "handleError",
        value: function handleError() {
            var _this2 = this,
                _arguments = arguments;

            setTimeout(function () {
                window.onerror = function (msg, url, line, col, error) {
                    try {
                        //没有URL不上报！上报也不知道错误
                        if (msg != "Script error." && !url) {
                            return true;
                        }
                        var key = msg.match(/(\w+)/g) || [];
                        _this2.level = _config.ErrorLevelEnum.WARN;
                        _this2.category = _config.ErrorCategoryEnum.JS_ERROR;
                        _this2.name = key.length > 0 && key[0];
                        _this2.type = key.length > 1 && key[1];
                        _this2.msg = msg || null;
                        _this2.url = url || null;
                        _this2.line = line || null;
                        // 不一定所有浏览器都支持col参数
                        // 不过 [IE]下 window.event 对象提供了 errorLine 和 errorCharacter，以此来对应相应的行列号信息
                        _this2.col = col || window.event && window.event.errorCharacter || null;
                        _this2.nowTime = new Date().getTime();

                        if (!!error && !!error.stack) {
                            // 如果浏览器有堆栈信息，直接使用
                            _this2.errorObj.error = error.stack.toString();
                        } else if (!!_arguments.callee) {
                            // 尝试通过callee拿堆栈信息
                            var ext = [];
                            // arguments.callee指向arguments对象的拥有函数引用, caller指向调用它的函数
                            var fn = _arguments.callee.caller;
                            var floor = 3; // 这里只拿三层堆栈信息
                            while (fn && --floor > 0) {
                                ext.push(fn.toString());
                                //如果有环
                                if (fn === fn.caller) {
                                    break;
                                }
                                fn = fn.caller;
                            }
                            ext = ext.join(",");
                            _this2.errorObj.error = ext;
                        }

                        _this2.recordError();
                    } catch (error) {
                        console.log("js错误异常", error);
                    }
                    return true;
                };
            }, 0);
        }
    }]);
    return JSError;
}(_monitor2.default);

exports.default = JSError;

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 捕获未处理的Promise异常
 */
var PromiseError = function (_Monitor) {
    (0, _inherits3.default)(PromiseError, _Monitor);

    function PromiseError(params) {
        (0, _classCallCheck3.default)(this, PromiseError);
        return (0, _possibleConstructorReturn3.default)(this, (PromiseError.__proto__ || (0, _getPrototypeOf2.default)(PromiseError)).call(this, params));
    }

    /**
     * 处理错误
     */


    (0, _createClass3.default)(PromiseError, [{
        key: "handleError",
        value: function handleError() {
            var _this2 = this;

            window.addEventListener('unhandledrejection', function (event) {
                try {
                    if (!event || !event.reason) {
                        return;
                    }
                    //判断当前被捕获的异常url，是否是异常处理url，防止死循环
                    if (event.reason.config && event.reason.config.url) {
                        _this2.url = event.reason.config.url;
                    }
                    var error = e && e.reason;
                    var stack = error.stack || '';
                    _this2.message = error.message || '';
                    // Processing error
                    var resourceUrl = void 0,
                        col = void 0,
                        line = void 0;
                    var errs = stack.match(/\(.+?\)/);
                    if (errs && errs.length) errs = errs[0];
                    errs = errs.replace(/\w.+[js|html]/g, function ($1) {
                        resourceUrl = $1;return '';
                    });
                    errs = errs.split(':');
                    if (errs && errs.length > 1) line = parseInt(errs[1] || 0);
                    col = parseInt(errs[2] || 0);
                    _this2.t = new Date().getTime();
                    _this2.data = {
                        resourceUrl: resourceUrl,
                        line: line,
                        col: col
                    };
                    _this2.level = _config.ErrorLevelEnum.WARN;
                    _this2.category = _config.ErrorCategoryEnum.PROMISE_ERROR;
                    _this2.msg = event.reason;
                    _this2.responseTime = event.timeStamp; // 响应时间
                    _this2.pageUrl = event.target.document.URL;
                    _this2.recordError();
                } catch (error) {
                    console.log(error);
                }
            }, true);
        }
    }]);
    return PromiseError;
}(_monitor2.default);

exports.default = PromiseError;

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * 资源加载错误
 */
var ResourceError = function (_Monitor) {
    (0, _inherits3.default)(ResourceError, _Monitor);

    function ResourceError(params) {
        (0, _classCallCheck3.default)(this, ResourceError);
        return (0, _possibleConstructorReturn3.default)(this, (ResourceError.__proto__ || (0, _getPrototypeOf2.default)(ResourceError)).call(this, params));
    }

    /**
     * 注册onerror事件
     * 由于网络请求异常不会事件冒泡，因此必须在捕获阶段将其捕捉到才行。
     * 这种方式虽然可以捕捉到网络请求的异常，但是无法判断 HTTP 的状态是 404 还是其他比如 500 等等，所以还需要配合服务端日志才进行排查分析才可以。
     */


    (0, _createClass3.default)(ResourceError, [{
        key: "handleError",
        value: function handleError() {
            var _this2 = this;

            window.addEventListener('error', function (event) {
                try {
                    if (!event) {
                        return;
                    }
                    _this2.category = _config.ErrorCategoryEnum.RESOURCE_ERROR;
                    var target = event.target || event.srcElement;
                    var isElementTarget = target instanceof HTMLScriptElement || target instanceof HTMLLinkElement || target instanceof HTMLImageElement;
                    if (!isElementTarget) {
                        return; // js error不再处理
                    }
                    _this2.level = target.tagName.toUpperCase() === 'IMG' ? _config.ErrorLevelEnum.WARN : _config.ErrorLevelEnum.ERROR;
                    _this2.msg = "加载 " + target.tagName + " 资源错误";
                    _this2.url = target.src || target.href;
                    _this2.errorObj = target;
                    _this2.recordError();
                } catch (error) {
                    console.log("资源加载收集异常", error);
                }
            }, true);
        }
    }]);
    return ResourceError;
}(_monitor2.default);

exports.default = ResourceError;

// performance.clearResourceTimings();

// object.onerror
// 如script，image等标签src引用，会返回一个event对象 ,TIPS: object.onerror不会冒泡到window对象，所以window.onerror无法监控资源加载错误

// var img = new Image();
// img.src = 'http://xxx.com/xxx.jpg';
// img.onerror = function(event) {
//     console.log(event);
// }

// 统计每个页面的JS和CSS加载时间

{/* <script>var cssLoadStart = +new Date</script>
    <link rel="stylesheet" href="xxx.css" type="text/css" media="all">
    <link rel="stylesheet" href="xxx1.css" type="text/css" media="all">
    <link rel="stylesheet" href="xxx2.css" type="text/css" media="all">
    <sript>
      var cssLoadTime = (+new Date) - cssLoadStart;
      var jsLoadStart = +new Date;
    </script>
    <script type="text/javascript" src="xx1.js"></script>
    <script type="text/javascript" src="xx2.js"></script>
    <script type="text/javascript" src="xx3.js"></script>
    <script>
      var jsLoadTime = (+new Date) - jsLoadStart;
      var REPORT_URL = 'xxx/cgi?data='
      var img = new Image;
      img.onload = img.onerror = function(){
         img = null;
      };
      img.src = REPORT_URL + cssLoadTime + '-' + jsLoadTime;
    </script> */}

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _stringify = __webpack_require__(22);

var _stringify2 = _interopRequireDefault(_stringify);

var _getPrototypeOf = __webpack_require__(14);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(15);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(17);

var _inherits3 = _interopRequireDefault(_inherits2);

var _monitor = __webpack_require__(18);

var _monitor2 = _interopRequireDefault(_monitor);

var _config = __webpack_require__(8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * vue错误
 */
var VueError = function (_Monitor) {
    (0, _inherits3.default)(VueError, _Monitor);

    function VueError(params) {
        (0, _classCallCheck3.default)(this, VueError);
        return (0, _possibleConstructorReturn3.default)(this, (VueError.__proto__ || (0, _getPrototypeOf2.default)(VueError)).call(this, params));
    }

    /**
     * 处理Vue错误提示
     */


    (0, _createClass3.default)(VueError, [{
        key: "handleError",
        value: function handleError(Vue) {
            var _this2 = this;

            if (!Vue) {
                return;
            }
            Vue.config.errorHandler = function (error, vm, info) {
                try {
                    var key = error.message.match(/(\w+)/g) || [];
                    var metaData = {
                        message: error.message,
                        name: key.length > 0 && key[0],
                        type: key.length > 1 && key[1],
                        stack: stack || null,
                        script_URI: script || null, // 异常脚本url
                        line_no: line || null, // 异常行号
                        column_no: column || null, // 异常列号
                        info: info
                    };
                    if (Object.prototype.toString.call(vm) === '[object Object]') {
                        metaData.componentName = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;
                        metaData.propsData = vm.$options.propsData;
                    }
                    _this2.level = _config.ErrorLevelEnum.WARN;
                    _this2.msg = (0, _stringify2.default)(metaData);
                    _this2.category = _config.ErrorCategoryEnum.VUE_ERROR;
                    _this2.recordError();
                } catch (error) {
                    console.log("vue错误异常", error);
                }
            };
        }
    }]);
    return VueError;
}(_monitor2.default);

exports.default = VueError;

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _stringify = __webpack_require__(22);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(1);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(2);

var _createClass3 = _interopRequireDefault(_createClass2);

var _performance = __webpack_require__(120);

var _performance2 = _interopRequireDefault(_performance);

var _device = __webpack_require__(54);

var _device2 = _interopRequireDefault(_device);

var _api = __webpack_require__(40);

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MonitorPerformance = function () {
    function MonitorPerformance() {
        (0, _classCallCheck3.default)(this, MonitorPerformance);

        this.isPage = true; //是否上报页面性能数据
        this.isResource = true; //是否上报页面资源数据
        this.outTime = 500;
        this.config = {
            resourceList: [], //资源列表
            performance: {} //页面性能列表
        };
    }

    /**
     * 记录页面信息
     * @param {*} params  {pageId ：页面标示,url ：上报地址}
     */


    (0, _createClass3.default)(MonitorPerformance, [{
        key: "record",
        value: function record(params) {
            var _this = this;

            setTimeout(function () {
                if (_this.isPage) {
                    // pagePerformance.domReady(() => {
                    _this.config.performance = _performance2.default.getTiming();
                    // this.config.type = 'onLoad'
                    // })
                    // pagePerformance.onLoad(() => {
                    // this.config.performance = pagePerformance.getTiming();
                    // this.config.type = 'onLoad'
                    // })
                }
                if (_this.isResource) {
                    // pagePerformance.resourceOnLoad(() => {
                    _this.config.resourceList = _performance2.default.getEntries();
                    // })
                }
                var result = {
                    time: new Date().getTime(),
                    performance: _this.config.performance,
                    resourceList: _this.config.resourceList,
                    // type: this.config.type || '',
                    markUser: _this.markUser(),
                    markUv: _this.markUv(),
                    pageId: params ? params.pageId : "",
                    deviceInfo: _this.getDeviceInfo()
                };
                console.log("report data =", result);
                //发送监控数据
                new _api2.default(params.url).report(result);
                _this.clearPerformance();
            }, this.outTime);
        }

        /**
         * 获取设备信息
         */

    }, {
        key: "getDeviceInfo",
        value: function getDeviceInfo() {
            try {
                var deviceInfo = _device2.default.getDeviceInfo();
                return (0, _stringify2.default)(deviceInfo);
            } catch (error) {
                console.log(error);
                return "";
            }
        }
    }, {
        key: "randomString",
        value: function randomString(len) {
            len = len || 10;
            var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789';
            var maxPos = $chars.length;
            var pwd = '';
            for (var i = 0; i < len; i++) {
                pwd = pwd + $chars.charAt(Math.floor(Math.random() * maxPos));
            }
            return pwd + new Date().getTime();
        }

        /**
         * 获得markpage
         */

    }, {
        key: "markUser",
        value: function markUser() {
            var psMarkUser = sessionStorage.getItem('ps_markUser') || '';
            if (!psMarkUser) {
                psMarkUser = this.randomString();
                sessionStorage.setItem('ps_markUser', psMarkUser);
            }
            return psMarkUser;
        }

        /**
         * 获得Uv
         */

    }, {
        key: "markUv",
        value: function markUv() {
            var date = new Date();
            var psMarkUv = localStorage.getItem('ps_markUv') || '';
            var datatime = localStorage.getItem('ps_markUvTime') || '';
            var today = date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() + ' 23:59:59';
            if (!psMarkUv && !datatime || date.getTime() > datatime * 1) {
                psMarkUv = this.randomString();
                localStorage.setItem('ps_markUv', psMarkUv);
                localStorage.setItem('ps_markUvTime', new Date(today).getTime());
            }
            return psMarkUv;
        }
    }, {
        key: "clearPerformance",
        value: function clearPerformance() {
            if (window.performance && window.performance.clearResourceTimings) {
                performance.clearResourceTimings();
                this.config.performance = {};
                this.config.resourceList = '';
            }
        }
    }]);
    return MonitorPerformance;
}(); /**
      * 监控工具
      */


exports.default = MonitorPerformance;

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * 页面性能监控
 */

var pagePerformance = {

    // 获取时间
    getTiming: function getTiming() {
        try {
            if (!window.performance || !window.performance.timing) {
                console.log('你的浏览器不支持 performance 操作');
                return;
            }
            var timing = window.performance.timing;

            var times = {};
            var loadTime = timing.loadEventEnd - timing.loadEventStart;
            if (loadTime < 0) {
                setTimeout(function () {
                    pagePerformance.getTiming();
                }, 200);
                return;
            }
            // 网络建立连接
            // 上一个页面卸载总耗时
            times.prevPage = timing.fetchStart - timing.navigationStart;
            // 上一个页面卸载
            times.prevUnload = timing.unloadEventEnd - timing.unloadEventStart;
            //【重要】重定向的时间
            times.redirectTime = timing.redirectEnd - timing.redirectStart;
            //DNS 缓存时间
            times.appcacheTime = timing.domainLookupStart - timing.fetchStart;
            //【重要】DNS 查询时间
            //【原因】DNS 预加载做了么？页面内是不是使用了太多不同的域名导致域名查询的时间太长？
            times.dnsTime = timing.domainLookupEnd - timing.domainLookupStart;
            //【重要】读取页面第一个字节的时间
            //【原因】这可以理解为用户拿到你的资源占用的时间，加异地机房了么，加CDN 处理了么？加带宽了么？加 CPU 运算速度了么？
            times.ttfbTime = timing.responseStart - timing.navigationStart;
            //tcp连接耗时
            times.tcpTime = timing.connectEnd - timing.connectStart;
            // 网络总耗时
            times.network = timing.connectEnd - timing.navigationStart;

            // 网络接收数据
            // 前端从发送请求到接收请求的时间
            times.send = timing.responseStart - timing.requestStart;
            // 接收数据用时
            //【原因】页面内容经过 gzip 压缩了么，静态资源 css/js 等压缩了么？
            times.receive = timing.responseEnd - timing.responseStart;
            // 请求页面总耗时
            times.request = timing.responseEnd - timing.requestStart;

            // 前端渲染
            //解析dom树耗时
            times.analysisTime = timing.domComplete - timing.domInteractive; // timing.domLoading
            //【重要】执行 onload 回调函数的时间
            //【原因】是否太多不必要的操作都放到 onload 回调函数里执行了，考虑过延迟加载、按需加载的策略么？
            times.onload = timing.loadEventEnd - timing.loadEventStart;
            // 前端总时间
            times.frontend = timing.loadEventEnd - timing.domLoading;

            // 白屏时间
            times.blankTime = timing.domLoading - timing.navigationStart;
            // domReadyTime(dom准备时间)
            times.domReadyTime = timing.domContentLoadedEventEnd - timing.navigationStart;
            //【重要】页面加载完成的时间
            //【原因】这几乎代表了用户等待页面可用的时间
            times.loadPage = timing.loadEventEnd - timing.navigationStart;
            // 可操作时间
            times.domIteractive = timing.domInteractive - timing.navigationStart;

            return times;
        } catch (e) {
            console.log(e);
        }
    },


    // 资源加载时间
    getEntries: function getEntries() {
        if (!window.performance || !window.performance.getEntries) {
            console.log("该浏览器不支持performance.getEntries方法");
            return;
        }
        var entryTimesList = [];
        var entryList = window.performance.getEntries();
        if (!entryList || entryList.length == 0) {
            return entryTimesList;
        }
        entryList.forEach(function (item) {
            var templeObj = {};
            var usefulType = ['script', 'css', 'fetch', 'xmlhttprequest', 'link', 'img']; //'navigation'
            if (usefulType.indexOf(item.initiatorType) > -1) {
                //请求资源路径
                templeObj.name = item.name;
                //发起资源类型
                templeObj.initiatorType = item.initiatorType;
                //http协议版本
                templeObj.nextHopProtocol = item.nextHopProtocol;
                //dns查询耗时
                templeObj.dnsTime = item.domainLookupEnd - item.domainLookupStart;
                //tcp链接耗时
                templeObj.tcpTime = item.connectEnd - item.connectStart;
                //请求时间
                templeObj.reqTime = item.responseEnd - item.responseStart;
                //重定向时间
                templeObj.redirectTime = item.redirectEnd - item.redirectStart;
                entryTimesList.push(templeObj);
            }
        });
        return entryTimesList;
    },


    /**
     * 分domReady和onLoad两个方法是因为有可能资源未全部加载完成就关闭了浏览器窗口
     */
    domReady: function domReady(callback) {
        var Timer = null;
        var check = function check() {
            if (window.performance.timing.domInteractive) {
                clearTimeout(Timer);
                callback();
            } else {
                Timer = setTimeout(check, 100);
            }
        };
        if (document.readyState === 'interactive') {
            callback();
            return;
        }
        document.addEventListener('DOMContentLoaded', function () {
            check();
        });
    },
    onLoad: function onLoad(callback) {
        var Timer = null;
        var check = function check() {
            if (window.performance.timing.loadEventEnd) {
                clearTimeout(Timer);
                callback();
            } else {
                Timer = setTimeout(check, 100);
            }
        };
        // 资源都加载完成
        if (document.readyState === 'complete') {
            callback();
            return;
        }
        window.addEventListener('load', function () {
            check();
        }, false);
    },


    // 资源加载完毕
    resourceOnLoad: function resourceOnLoad(cb) {
        // 资源都加载完成
        if (document.readyState === 'complete') {
            cb();
            return;
        }
        window.addEventListener('load', function () {
            cb();
        }, false);
    }
};

exports.default = pagePerformance;

// performance.now()
// const t0 = performance.now();
// for (let i = 0; i < array.length; i++) {
//      some code
// }
// const t1 = performance.now();
// console.log(t1 - t0, 'milliseconds');

// console.time('test');
// console.time('test');
// for (let i = 0; i < array.length; i++) {
//   // some code
// }
// console.timeEnd('test');

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = {
    measure: function measure(fn) {
        // const startName = prefixStart(name)
        // const endName = prefixEnd(name)
        // performance.mark(startName)
        var t0 = performance.now();
        // await fn()
        fn();
        var t1 = performance.now();
        // performance.mark(endName)
        // 调用 measure
        // performance.measure(name, startName, endName)
        // const [{
        //     duration
        // }] = performance.getEntriesByName(name)
        // performance.clearMarks(`${MARK_START}${name}`)
        // performance.clearMarks(`${MARK_END}${name}`)
        // performance.clearMeasures(name)
        return t1 - t0;
    }
};

/***/ })
/******/ ]);
});